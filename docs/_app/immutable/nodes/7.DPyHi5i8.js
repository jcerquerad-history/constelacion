import{s as ze,n as ye,l as _e,m as jr,o as ti,h as ei,k as ni,a as Je,e as Sn}from"../chunks/scheduler.CrsDffe0.js";import{S as Ye,i as Ie,r as ve,j as K,k as $,l as He,o as Re,e as X,s as yt,f as B,n as ut,h as _t,v as F,p as W,q as dr,t as Ut,x as ri,b as Pt,u as ii,E as Dn,F as oi,c as we,G as ui,a as xe,m as Me,A as yr,d as Te,g as fe}from"../chunks/index.DSWBlzAv.js";import{g as ai,a as An}from"../chunks/spread.CgU5AtxT.js";import{P as si}from"../chunks/Page.DM04cjV2.js";import{b as lt}from"../chunks/paths.B0zcix88.js";import{p as _r}from"../chunks/metadata.Dkood4DG.js";import{c as je,e as Nn,u as li,d as ci}from"../chunks/Footer.DDr2aIPv.js";import{f as Un}from"../chunks/index.B3vy_Lio.js";function fi(t){let e;return{c(){e=He("INCORRECTO: REVISA EL PID | INCORRECT: CHECK THE PID OF THE IMAGE")},l(n){e=Re(n,"INCORRECTO: REVISA EL PID | INCORRECT: CHECK THE PID OF THE IMAGE")},m(n,r){K(n,e,r)},p:ye,d(n){n&&$(e)}}}function hi(t){let e,n,r,i,o,u,a,s,l=t[4].label+"",c,h,f,g=t[1]&&En(t);return{c(){e=X("div"),n=X("a"),r=X("img"),a=yt(),s=X("a"),c=He(l),f=yt(),g&&g.c(),this.h()},l(p){e=B(p,"DIV",{class:!0});var w=ut(e);n=B(w,"A",{href:!0});var U=ut(n);r=B(U,"IMG",{src:!0,title:!0,alt:!0,class:!0}),U.forEach($),a=_t(w),s=B(w,"A",{class:!0,href:!0});var M=ut(s);c=Re(M,l),M.forEach($),f=_t(w),g&&g.l(w),w.forEach($),this.h()},h(){_e(r.src,i=lt+"/iiif/"+t[0]+"/"+(t[3]-1)+"/full/512,/0/default.jpg")||F(r,"src",i),F(r,"title",t[1]),F(r,"alt",o=t[2]===""?t[1]:t[2]),F(r,"class","svelte-iswlra"),F(n,"href",u=lt+"/pages/"+t[0]),F(s,"class","silent-link"),F(s,"href",h=lt+"/pages/"+t[0]),F(e,"class","preview-item svelte-iswlra")},m(p,w){K(p,e,w),W(e,n),W(n,r),W(e,a),W(e,s),W(s,c),W(e,f),g&&g.m(e,null)},p(p,w){w&9&&!_e(r.src,i=lt+"/iiif/"+p[0]+"/"+(p[3]-1)+"/full/512,/0/default.jpg")&&F(r,"src",i),w&2&&F(r,"title",p[1]),w&6&&o!==(o=p[2]===""?p[1]:p[2])&&F(r,"alt",o),w&1&&u!==(u=lt+"/pages/"+p[0])&&F(n,"href",u),w&1&&h!==(h=lt+"/pages/"+p[0])&&F(s,"href",h),p[1]?g?g.p(p,w):(g=En(p),g.c(),g.m(e,null)):g&&(g.d(1),g=null)},d(p){p&&$(e),g&&g.d()}}}function En(t){let e,n,r;return{c(){e=X("p"),n=X("em"),r=He(t[1])},l(i){e=B(i,"P",{});var o=ut(e);n=B(o,"EM",{});var u=ut(n);r=Re(u,t[1]),u.forEach($),o.forEach($)},m(i,o){K(i,e,o),W(e,n),W(n,r)},p(i,o){o&2&&dr(r,i[1])},d(i){i&&$(e)}}}function mi(t){let e;function n(o,u){return o[4]&&je.pages.iiifViewer?hi:fi}let i=n(t)(t);return{c(){i.c(),e=ve()},l(o){i.l(o),e=ve()},m(o,u){i.m(o,u),K(o,e,u)},p(o,[u]){i.p(o,u)},i:ye,o:ye,d(o){o&&$(e),i.d(o)}}}function gi(t,e,n){let{pid:r}=e,{title:i=""}=e,{alt:o=""}=e,{page:u=1}=e,a=_r.find(s=>s.pid===r);return a!==void 0&&a.label,t.$$set=s=>{"pid"in s&&n(0,r=s.pid),"title"in s&&n(1,i=s.title),"alt"in s&&n(2,o=s.alt),"page"in s&&n(3,u=s.page)},[r,i,o,u,a]}class pi extends Ye{constructor(e){super(),Ie(this,e,gi,mi,ze,{pid:0,title:1,alt:2,page:3})}}function he(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function di(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function fn(t){let e,n,r;t.length!==2?(e=he,n=(a,s)=>he(t(a),s),r=(a,s)=>t(a)-s):(e=t===he||t===di?t:yi,n=t,r=t);function i(a,s,l=0,c=a.length){if(l<c){if(e(s,s)!==0)return c;do{const h=l+c>>>1;n(a[h],s)<0?l=h+1:c=h}while(l<c)}return l}function o(a,s,l=0,c=a.length){if(l<c){if(e(s,s)!==0)return c;do{const h=l+c>>>1;n(a[h],s)<=0?l=h+1:c=h}while(l<c)}return l}function u(a,s,l=0,c=a.length){const h=i(a,s,l,c-1);return h>l&&r(a[h-1],s)>-r(a[h],s)?h-1:h}return{left:i,center:u,right:o}}function yi(){return 0}function _i(t){return t===null?NaN:+t}const vi=fn(he),wi=vi.right;fn(_i).center;function xi(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}const Mi=Math.sqrt(50),Ti=Math.sqrt(10),bi=Math.sqrt(2);function vr(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),u=o>=Mi?10:o>=Ti?5:o>=bi?2:1;let a,s,l;return i<0?(l=Math.pow(10,-i)/u,a=Math.round(t*l),s=Math.round(e*l),a/l<t&&++a,s/l>e&&--s,l=-l):(l=Math.pow(10,i)*u,a=Math.round(t/l),s=Math.round(e/l),a*l<t&&++a,s*l>e&&--s),s<a&&.5<=n&&n<2?vr(t,e,n*2):[a,s,l]}function Fn(t,e,n){return e=+e,t=+t,n=+n,vr(t,e,n)[2]}function $n(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Fn(e,t,n):Fn(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ci(t){return t}var ki=3,zn=1e-6;function Si(t){return"translate("+t+",0)"}function Di(t){return e=>+t(e)}function Ai(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Ni(){return!this.__axis}function Ui(t,e){var n=[],r=null,i=null,o=6,u=6,a=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=1,c="y",h=Si;function f(g){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),w=i??(e.tickFormat?e.tickFormat.apply(e,n):Ci),U=Math.max(o,0)+a,M=e.range(),Y=+M[0]+s,E=+M[M.length-1]+s,I=(e.bandwidth?Ai:Di)(e.copy(),s),R=g.selection?g.selection():g,x=R.selectAll(".domain").data([null]),S=R.selectAll(".tick").data(p,e).order(),Q=S.exit(),et=S.enter().append("g").attr("class","tick"),J=S.select("line"),P=S.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),S=S.merge(et),J=J.merge(et.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),P=P.merge(et.append("text").attr("fill","currentColor").attr(c,l*U).attr("dy","0.71em")),g!==R&&(x=x.transition(g),S=S.transition(g),J=J.transition(g),P=P.transition(g),Q=Q.transition(g).attr("opacity",zn).attr("transform",function(L){return isFinite(L=I(L))?h(L+s):this.getAttribute("transform")}),et.attr("opacity",zn).attr("transform",function(L){var G=this.parentNode.__axis;return h((G&&isFinite(G=G(L))?G:I(L))+s)})),Q.remove(),x.attr("d",u?"M"+Y+","+l*u+"V"+s+"H"+E+"V"+l*u:"M"+Y+","+s+"H"+E),S.attr("opacity",1).attr("transform",function(L){return h(I(L)+s)}),J.attr(c+"2",l*o),P.attr(c,l*U).text(w),R.filter(Ni).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),R.each(function(){this.__axis=I})}return f.scale=function(g){return arguments.length?(e=g,f):e},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),f):n.slice()},f.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),f):r&&r.slice()},f.tickFormat=function(g){return arguments.length?(i=g,f):i},f.tickSize=function(g){return arguments.length?(o=u=+g,f):o},f.tickSizeInner=function(g){return arguments.length?(o=+g,f):o},f.tickSizeOuter=function(g){return arguments.length?(u=+g,f):u},f.tickPadding=function(g){return arguments.length?(a=+g,f):a},f.offset=function(g){return arguments.length?(s=+g,f):s},f}function Ei(t){return Ui(ki,t)}var Fi={value:()=>{}};function hn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new me(n)}function me(t){this._=t}function $i(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}me.prototype=hn.prototype={constructor:me,on:function(t,e){var n=this._,r=$i(t+"",n),i,o=-1,u=r.length;if(arguments.length<2){for(;++o<u;)if((i=(t=r[o]).type)&&(i=zi(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<u;)if(i=(t=r[o]).type)n[i]=Yn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Yn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new me(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function zi(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Yn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Fi,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var tn="http://www.w3.org/1999/xhtml";const In={svg:"http://www.w3.org/2000/svg",xhtml:tn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Oe(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),In.hasOwnProperty(e)?{space:In[e],local:t}:t}function Yi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tn&&e.documentElement.namespaceURI===tn?e.createElement(t):e.createElementNS(n,t)}}function Ii(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function wr(t){var e=Oe(t);return(e.local?Ii:Yi)(e)}function Hi(){}function mn(t){return t==null?Hi:function(){return this.querySelector(t)}}function Ri(t){typeof t!="function"&&(t=mn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],u=o.length,a=r[i]=new Array(u),s,l,c=0;c<u;++c)(s=o[c])&&(l=t.call(s,s.__data__,c,o))&&("__data__"in s&&(l.__data__=s.__data__),a[c]=l);return new at(r,this._parents)}function Oi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Li(){return[]}function xr(t){return t==null?Li:function(){return this.querySelectorAll(t)}}function Pi(t){return function(){return Oi(t.apply(this,arguments))}}function Vi(t){typeof t=="function"?t=Pi(t):t=xr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var u=e[o],a=u.length,s,l=0;l<a;++l)(s=u[l])&&(r.push(t.call(s,s.__data__,l,u)),i.push(s));return new at(r,i)}function Mr(t){return function(){return this.matches(t)}}function Tr(t){return function(e){return e.matches(t)}}var qi=Array.prototype.find;function Wi(t){return function(){return qi.call(this.children,t)}}function Xi(){return this.firstElementChild}function Bi(t){return this.select(t==null?Xi:Wi(typeof t=="function"?t:Tr(t)))}var Zi=Array.prototype.filter;function Gi(){return Array.from(this.children)}function Ki(t){return function(){return Zi.call(this.children,t)}}function Qi(t){return this.selectAll(t==null?Gi:Ki(typeof t=="function"?t:Tr(t)))}function Ji(t){typeof t!="function"&&(t=Mr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],u=o.length,a=r[i]=[],s,l=0;l<u;++l)(s=o[l])&&t.call(s,s.__data__,l,o)&&a.push(s);return new at(r,this._parents)}function br(t){return new Array(t.length)}function ji(){return new at(this._enter||this._groups.map(br),this._parents)}function be(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}be.prototype={constructor:be,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function to(t){return function(){return t}}function eo(t,e,n,r,i,o){for(var u=0,a,s=e.length,l=o.length;u<l;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new be(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function no(t,e,n,r,i,o,u){var a,s,l=new Map,c=e.length,h=o.length,f=new Array(c),g;for(a=0;a<c;++a)(s=e[a])&&(f[a]=g=u.call(s,s.__data__,a,e)+"",l.has(g)?i[a]=s:l.set(g,s));for(a=0;a<h;++a)g=u.call(t,o[a],a,o)+"",(s=l.get(g))?(r[a]=s,s.__data__=o[a],l.delete(g)):n[a]=new be(t,o[a]);for(a=0;a<c;++a)(s=e[a])&&l.get(f[a])===s&&(i[a]=s)}function ro(t){return t.__data__}function io(t,e){if(!arguments.length)return Array.from(this,ro);var n=e?no:eo,r=this._parents,i=this._groups;typeof t!="function"&&(t=to(t));for(var o=i.length,u=new Array(o),a=new Array(o),s=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,g=oo(t.call(c,c&&c.__data__,l,r)),p=g.length,w=a[l]=new Array(p),U=u[l]=new Array(p),M=s[l]=new Array(f);n(c,h,w,U,M,g,e);for(var Y=0,E=0,I,R;Y<p;++Y)if(I=w[Y]){for(Y>=E&&(E=Y+1);!(R=U[E])&&++E<p;);I._next=R||null}}return u=new at(u,r),u._enter=a,u._exit=s,u}function oo(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function uo(){return new at(this._exit||this._groups.map(br),this._parents)}function ao(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function so(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,u=Math.min(i,o),a=new Array(i),s=0;s<u;++s)for(var l=n[s],c=r[s],h=l.length,f=a[s]=new Array(h),g,p=0;p<h;++p)(g=l[p]||c[p])&&(f[p]=g);for(;s<i;++s)a[s]=n[s];return new at(a,this._parents)}function lo(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],u;--i>=0;)(u=r[i])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function co(t){t||(t=fo);function e(h,f){return h&&f?t(h.__data__,f.__data__):!h-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var u=n[o],a=u.length,s=i[o]=new Array(a),l,c=0;c<a;++c)(l=u[c])&&(s[c]=l);s.sort(e)}return new at(i,this._parents).order()}function fo(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ho(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function mo(){return Array.from(this)}function go(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null}function po(){let t=0;for(const e of this)++t;return t}function yo(){return!this.node()}function _o(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,u=i.length,a;o<u;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function vo(t){return function(){this.removeAttribute(t)}}function wo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function xo(t,e){return function(){this.setAttribute(t,e)}}function Mo(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function To(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function bo(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Co(t,e){var n=Oe(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?wo:vo:typeof e=="function"?n.local?bo:To:n.local?Mo:xo)(n,e))}function Cr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ko(t){return function(){this.style.removeProperty(t)}}function So(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Do(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Ao(t,e,n){return arguments.length>1?this.each((e==null?ko:typeof e=="function"?Do:So)(t,e,n??"")):Vt(this.node(),t)}function Vt(t,e){return t.style.getPropertyValue(e)||Cr(t).getComputedStyle(t,null).getPropertyValue(e)}function No(t){return function(){delete this[t]}}function Uo(t,e){return function(){this[t]=e}}function Eo(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Fo(t,e){return arguments.length>1?this.each((e==null?No:typeof e=="function"?Eo:Uo)(t,e)):this.node()[t]}function kr(t){return t.trim().split(/^|\s+/)}function gn(t){return t.classList||new Sr(t)}function Sr(t){this._node=t,this._names=kr(t.getAttribute("class")||"")}Sr.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Dr(t,e){for(var n=gn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ar(t,e){for(var n=gn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function $o(t){return function(){Dr(this,t)}}function zo(t){return function(){Ar(this,t)}}function Yo(t,e){return function(){(e.apply(this,arguments)?Dr:Ar)(this,t)}}function Io(t,e){var n=kr(t+"");if(arguments.length<2){for(var r=gn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Yo:e?$o:zo)(n,e))}function Ho(){this.textContent=""}function Ro(t){return function(){this.textContent=t}}function Oo(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Lo(t){return arguments.length?this.each(t==null?Ho:(typeof t=="function"?Oo:Ro)(t)):this.node().textContent}function Po(){this.innerHTML=""}function Vo(t){return function(){this.innerHTML=t}}function qo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Wo(t){return arguments.length?this.each(t==null?Po:(typeof t=="function"?qo:Vo)(t)):this.node().innerHTML}function Xo(){this.nextSibling&&this.parentNode.appendChild(this)}function Bo(){return this.each(Xo)}function Zo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Go(){return this.each(Zo)}function Ko(t){var e=typeof t=="function"?t:wr(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Qo(){return null}function Jo(t,e){var n=typeof t=="function"?t:wr(t),r=e==null?Qo:typeof e=="function"?e:mn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function jo(){var t=this.parentNode;t&&t.removeChild(this)}function tu(){return this.each(jo)}function eu(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nu(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ru(t){return this.select(t?nu:eu)}function iu(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ou(t){return function(e){t.call(this,e,this.__data__)}}function uu(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function au(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function su(t,e,n){return function(){var r=this.__on,i,o=ou(e);if(r){for(var u=0,a=r.length;u<a;++u)if((i=r[u]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function lu(t,e,n){var r=uu(t+""),i,o=r.length,u;if(arguments.length<2){var a=this.node().__on;if(a){for(var s=0,l=a.length,c;s<l;++s)for(i=0,c=a[s];i<o;++i)if((u=r[i]).type===c.type&&u.name===c.name)return c.value}return}for(a=e?su:au,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function Nr(t,e,n){var r=Cr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function cu(t,e){return function(){return Nr(this,t,e)}}function fu(t,e){return function(){return Nr(this,t,e.apply(this,arguments))}}function hu(t,e){return this.each((typeof e=="function"?fu:cu)(t,e))}function*mu(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,u;i<o;++i)(u=r[i])&&(yield u)}var Ur=[null];function at(t,e){this._groups=t,this._parents=e}function ie(){return new at([[document.documentElement]],Ur)}function gu(){return this}at.prototype=ie.prototype={constructor:at,select:Ri,selectAll:Vi,selectChild:Bi,selectChildren:Qi,filter:Ji,data:io,enter:ji,exit:uo,join:ao,merge:so,selection:gu,order:lo,sort:co,call:ho,nodes:mo,node:go,size:po,empty:yo,each:_o,attr:Co,style:Ao,property:Fo,classed:Io,text:Lo,html:Wo,raise:Bo,lower:Go,append:Ko,insert:Jo,remove:tu,clone:ru,datum:iu,on:lu,dispatch:hu,[Symbol.iterator]:mu};function dt(t){return typeof t=="string"?new at([[document.querySelector(t)]],[document.documentElement]):new at([[t]],Ur)}function pu(t){let e;for(;e=t.sourceEvent;)t=e;return t}function At(t,e){if(t=pu(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const en={capture:!0,passive:!1};function nn(t){t.preventDefault(),t.stopImmediatePropagation()}function du(t){var e=t.document.documentElement,n=dt(t).on("dragstart.drag",nn,en);"onselectstart"in e?n.on("selectstart.drag",nn,en):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function yu(t,e){var n=t.document.documentElement,r=dt(t).on("dragstart.drag",null);e&&(r.on("click.drag",nn,en),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function pn(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Er(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function oe(){}var te=.7,Ce=1/te,Lt="\\s*([+-]?\\d+)\\s*",ee="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_u=/^#([0-9a-f]{3,8})$/,vu=new RegExp(`^rgb\\(${Lt},${Lt},${Lt}\\)$`),wu=new RegExp(`^rgb\\(${vt},${vt},${vt}\\)$`),xu=new RegExp(`^rgba\\(${Lt},${Lt},${Lt},${ee}\\)$`),Mu=new RegExp(`^rgba\\(${vt},${vt},${vt},${ee}\\)$`),Tu=new RegExp(`^hsl\\(${ee},${vt},${vt}\\)$`),bu=new RegExp(`^hsla\\(${ee},${vt},${vt},${ee}\\)$`),Hn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pn(oe,Ft,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Rn,formatHex:Rn,formatHex8:Cu,formatHsl:ku,formatRgb:On,toString:On});function Rn(){return this.rgb().formatHex()}function Cu(){return this.rgb().formatHex8()}function ku(){return Fr(this).formatHsl()}function On(){return this.rgb().formatRgb()}function Ft(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=_u.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ln(e):n===3?new tt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ae(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ae(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vu.exec(t))?new tt(e[1],e[2],e[3],1):(e=wu.exec(t))?new tt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xu.exec(t))?ae(e[1],e[2],e[3],e[4]):(e=Mu.exec(t))?ae(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Tu.exec(t))?qn(e[1],e[2]/100,e[3]/100,1):(e=bu.exec(t))?qn(e[1],e[2]/100,e[3]/100,e[4]):Hn.hasOwnProperty(t)?Ln(Hn[t]):t==="transparent"?new tt(NaN,NaN,NaN,0):null}function Ln(t){return new tt(t>>16&255,t>>8&255,t&255,1)}function ae(t,e,n,r){return r<=0&&(t=e=n=NaN),new tt(t,e,n,r)}function Su(t){return t instanceof oe||(t=Ft(t)),t?(t=t.rgb(),new tt(t.r,t.g,t.b,t.opacity)):new tt}function rn(t,e,n,r){return arguments.length===1?Su(t):new tt(t,e,n,r??1)}function tt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}pn(tt,rn,Er(oe,{brighter(t){return t=t==null?Ce:Math.pow(Ce,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?te:Math.pow(te,t),new tt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tt(Et(this.r),Et(this.g),Et(this.b),ke(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Pn,formatHex:Pn,formatHex8:Du,formatRgb:Vn,toString:Vn}));function Pn(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}`}function Du(){return`#${Nt(this.r)}${Nt(this.g)}${Nt(this.b)}${Nt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Vn(){const t=ke(this.opacity);return`${t===1?"rgb(":"rgba("}${Et(this.r)}, ${Et(this.g)}, ${Et(this.b)}${t===1?")":`, ${t})`}`}function ke(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Et(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Nt(t){return t=Et(t),(t<16?"0":"")+t.toString(16)}function qn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gt(t,e,n,r)}function Fr(t){if(t instanceof gt)return new gt(t.h,t.s,t.l,t.opacity);if(t instanceof oe||(t=Ft(t)),!t)return new gt;if(t instanceof gt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),u=NaN,a=o-i,s=(o+i)/2;return a?(e===o?u=(n-r)/a+(n<r)*6:n===o?u=(r-e)/a+2:u=(e-n)/a+4,a/=s<.5?o+i:2-o-i,u*=60):a=s>0&&s<1?0:u,new gt(u,a,s,t.opacity)}function Au(t,e,n,r){return arguments.length===1?Fr(t):new gt(t,e,n,r??1)}function gt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}pn(gt,Au,Er(oe,{brighter(t){return t=t==null?Ce:Math.pow(Ce,t),new gt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?te:Math.pow(te,t),new gt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new tt(qe(t>=240?t-240:t+120,i,r),qe(t,i,r),qe(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new gt(Wn(this.h),se(this.s),se(this.l),ke(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ke(this.opacity);return`${t===1?"hsl(":"hsla("}${Wn(this.h)}, ${se(this.s)*100}%, ${se(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Wn(t){return t=(t||0)%360,t<0?t+360:t}function se(t){return Math.max(0,Math.min(1,t||0))}function qe(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const dn=t=>()=>t;function Nu(t,e){return function(n){return t+n*e}}function Uu(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Eu(t){return(t=+t)==1?$r:function(e,n){return n-e?Uu(e,n,t):dn(isNaN(e)?n:e)}}function $r(t,e){var n=e-t;return n?Nu(t,n):dn(isNaN(t)?e:t)}const Se=function t(e){var n=Eu(e);function r(i,o){var u=n((i=rn(i)).r,(o=rn(o)).r),a=n(i.g,o.g),s=n(i.b,o.b),l=$r(i.opacity,o.opacity);return function(c){return i.r=u(c),i.g=a(c),i.b=s(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function Fu(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function $u(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function zu(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),u;for(u=0;u<r;++u)i[u]=yn(t[u],e[u]);for(;u<n;++u)o[u]=e[u];return function(a){for(u=0;u<r;++u)o[u]=i[u](a);return o}}function Yu(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function mt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Iu(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=yn(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var on=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,We=new RegExp(on.source,"g");function Hu(t){return function(){return t}}function Ru(t){return function(e){return t(e)+""}}function zr(t,e){var n=on.lastIndex=We.lastIndex=0,r,i,o,u=-1,a=[],s=[];for(t=t+"",e=e+"";(r=on.exec(t))&&(i=We.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[u]?a[u]+=o:a[++u]=o),(r=r[0])===(i=i[0])?a[u]?a[u]+=i:a[++u]=i:(a[++u]=null,s.push({i:u,x:mt(r,i)})),n=We.lastIndex;return n<e.length&&(o=e.slice(n),a[u]?a[u]+=o:a[++u]=o),a.length<2?s[0]?Ru(s[0].x):Hu(e):(e=s.length,function(l){for(var c=0,h;c<e;++c)a[(h=s[c]).i]=h.x(l);return a.join("")})}function yn(t,e){var n=typeof e,r;return e==null||n==="boolean"?dn(e):(n==="number"?mt:n==="string"?(r=Ft(e))?(e=r,Se):zr:e instanceof Ft?Se:e instanceof Date?Yu:$u(e)?Fu:Array.isArray(e)?zu:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Iu:mt)(t,e)}function Yr(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Xn=180/Math.PI,un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ir(t,e,n,r,i,o){var u,a,s;return(u=Math.sqrt(t*t+e*e))&&(t/=u,e/=u),(s=t*n+e*r)&&(n-=t*s,r-=e*s),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,s/=a),t*r<e*n&&(t=-t,e=-e,s=-s,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Xn,skewX:Math.atan(s)*Xn,scaleX:u,scaleY:a}}var le;function Ou(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?un:Ir(e.a,e.b,e.c,e.d,e.e,e.f)}function Lu(t){return t==null||(le||(le=document.createElementNS("http://www.w3.org/2000/svg","g")),le.setAttribute("transform",t),!(t=le.transform.baseVal.consolidate()))?un:(t=t.matrix,Ir(t.a,t.b,t.c,t.d,t.e,t.f))}function Hr(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,c,h,f,g,p){if(l!==h||c!==f){var w=g.push("translate(",null,e,null,n);p.push({i:w-4,x:mt(l,h)},{i:w-2,x:mt(c,f)})}else(h||f)&&g.push("translate("+h+e+f+n)}function u(l,c,h,f){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),f.push({i:h.push(i(h)+"rotate(",null,r)-2,x:mt(l,c)})):c&&h.push(i(h)+"rotate("+c+r)}function a(l,c,h,f){l!==c?f.push({i:h.push(i(h)+"skewX(",null,r)-2,x:mt(l,c)}):c&&h.push(i(h)+"skewX("+c+r)}function s(l,c,h,f,g,p){if(l!==h||c!==f){var w=g.push(i(g)+"scale(",null,",",null,")");p.push({i:w-4,x:mt(l,h)},{i:w-2,x:mt(c,f)})}else(h!==1||f!==1)&&g.push(i(g)+"scale("+h+","+f+")")}return function(l,c){var h=[],f=[];return l=t(l),c=t(c),o(l.translateX,l.translateY,c.translateX,c.translateY,h,f),u(l.rotate,c.rotate,h,f),a(l.skewX,c.skewX,h,f),s(l.scaleX,l.scaleY,c.scaleX,c.scaleY,h,f),l=c=null,function(g){for(var p=-1,w=f.length,U;++p<w;)h[(U=f[p]).i]=U.x(g);return h.join("")}}}var Pu=Hr(Ou,"px, ","px)","deg)"),Vu=Hr(Lu,", ",")",")"),qu=1e-12;function Bn(t){return((t=Math.exp(t))+1/t)/2}function Wu(t){return((t=Math.exp(t))-1/t)/2}function Xu(t){return((t=Math.exp(2*t))-1)/(t+1)}const Bu=function t(e,n,r){function i(o,u){var a=o[0],s=o[1],l=o[2],c=u[0],h=u[1],f=u[2],g=c-a,p=h-s,w=g*g+p*p,U,M;if(w<qu)M=Math.log(f/l)/e,U=function(S){return[a+S*g,s+S*p,l*Math.exp(e*S*M)]};else{var Y=Math.sqrt(w),E=(f*f-l*l+r*w)/(2*l*n*Y),I=(f*f-l*l-r*w)/(2*f*n*Y),R=Math.log(Math.sqrt(E*E+1)-E),x=Math.log(Math.sqrt(I*I+1)-I);M=(x-R)/e,U=function(S){var Q=S*M,et=Bn(R),J=l/(n*Y)*(et*Xu(e*Q+R)-Wu(R));return[a+J*g,s+J*p,l*et/Bn(e*Q+R)]}}return U.duration=M*1e3*e/Math.SQRT2,U}return i.rho=function(o){var u=Math.max(.001,+o),a=u*u,s=a*a;return t(u,a,s)},i}(Math.SQRT2,2,4);var qt=0,Jt=0,Bt=0,Rr=1e3,De,jt,Ae=0,$t=0,Le=0,ne=typeof performance=="object"&&performance.now?performance:Date,Or=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _n(){return $t||(Or(Zu),$t=ne.now()+Le)}function Zu(){$t=0}function Ne(){this._call=this._time=this._next=null}Ne.prototype=Lr.prototype={constructor:Ne,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?_n():+n)+(e==null?0:+e),!this._next&&jt!==this&&(jt?jt._next=this:De=this,jt=this),this._call=t,this._time=n,an()},stop:function(){this._call&&(this._call=null,this._time=1/0,an())}};function Lr(t,e,n){var r=new Ne;return r.restart(t,e,n),r}function Gu(){_n(),++qt;for(var t=De,e;t;)(e=$t-t._time)>=0&&t._call.call(void 0,e),t=t._next;--qt}function Zn(){$t=(Ae=ne.now())+Le,qt=Jt=0;try{Gu()}finally{qt=0,Qu(),$t=0}}function Ku(){var t=ne.now(),e=t-Ae;e>Rr&&(Le-=e,Ae=t)}function Qu(){for(var t,e=De,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:De=n);jt=t,an(r)}function an(t){if(!qt){Jt&&(Jt=clearTimeout(Jt));var e=t-$t;e>24?(t<1/0&&(Jt=setTimeout(Zn,t-ne.now()-Le)),Bt&&(Bt=clearInterval(Bt))):(Bt||(Ae=ne.now(),Bt=setInterval(Ku,Rr)),qt=1,Or(Zn))}}function Gn(t,e,n){var r=new Ne;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Ju=hn("start","end","cancel","interrupt"),ju=[],Pr=0,Kn=1,sn=2,ge=3,Qn=4,ln=5,pe=6;function Pe(t,e,n,r,i,o){var u=t.__transition;if(!u)t.__transition={};else if(n in u)return;ta(t,n,{name:e,index:r,group:i,on:Ju,tween:ju,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Pr})}function vn(t,e){var n=pt(t,e);if(n.state>Pr)throw new Error("too late; already scheduled");return n}function wt(t,e){var n=pt(t,e);if(n.state>ge)throw new Error("too late; already running");return n}function pt(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ta(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Lr(o,0,n.time);function o(l){n.state=Kn,n.timer.restart(u,n.delay,n.time),n.delay<=l&&u(l-n.delay)}function u(l){var c,h,f,g;if(n.state!==Kn)return s();for(c in r)if(g=r[c],g.name===n.name){if(g.state===ge)return Gn(u);g.state===Qn?(g.state=pe,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[c]):+c<e&&(g.state=pe,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[c])}if(Gn(function(){n.state===ge&&(n.state=Qn,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=sn,n.on.call("start",t,t.__data__,n.index,n.group),n.state===sn){for(n.state=ge,i=new Array(f=n.tween.length),c=0,h=-1;c<f;++c)(g=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=g);i.length=h+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(s),n.state=ln,1),h=-1,f=i.length;++h<f;)i[h].call(t,c);n.state===ln&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){n.state=pe,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function de(t,e){var n=t.__transition,r,i,o=!0,u;if(n){e=e==null?null:e+"";for(u in n){if((r=n[u]).name!==e){o=!1;continue}i=r.state>sn&&r.state<ln,r.state=pe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[u]}o&&delete t.__transition}}function ea(t){return this.each(function(){de(this,t)})}function na(t,e){var n,r;return function(){var i=wt(this,t),o=i.tween;if(o!==n){r=n=o;for(var u=0,a=r.length;u<a;++u)if(r[u].name===e){r=r.slice(),r.splice(u,1);break}}i.tween=r}}function ra(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=wt(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:e,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===e){i[s]=a;break}s===l&&i.push(a)}o.tween=i}}function ia(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=pt(this.node(),n).tween,i=0,o=r.length,u;i<o;++i)if((u=r[i]).name===t)return u.value;return null}return this.each((e==null?na:ra)(n,t,e))}function wn(t,e,n){var r=t._id;return t.each(function(){var i=wt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return pt(i,r).value[e]}}function Vr(t,e){var n;return(typeof e=="number"?mt:e instanceof Ft?Se:(n=Ft(e))?(e=n,Se):zr)(t,e)}function oa(t){return function(){this.removeAttribute(t)}}function ua(t){return function(){this.removeAttributeNS(t.space,t.local)}}function aa(t,e,n){var r,i=n+"",o;return function(){var u=this.getAttribute(t);return u===i?null:u===r?o:o=e(r=u,n)}}function sa(t,e,n){var r,i=n+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===i?null:u===r?o:o=e(r=u,n)}}function la(t,e,n){var r,i,o;return function(){var u,a=n(this),s;return a==null?void this.removeAttribute(t):(u=this.getAttribute(t),s=a+"",u===s?null:u===r&&s===i?o:(i=s,o=e(r=u,a)))}}function ca(t,e,n){var r,i,o;return function(){var u,a=n(this),s;return a==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),s=a+"",u===s?null:u===r&&s===i?o:(i=s,o=e(r=u,a)))}}function fa(t,e){var n=Oe(t),r=n==="transform"?Vu:Vr;return this.attrTween(t,typeof e=="function"?(n.local?ca:la)(n,r,wn(this,"attr."+t,e)):e==null?(n.local?ua:oa)(n):(n.local?sa:aa)(n,r,e))}function ha(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ma(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function ga(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ma(t,o)),n}return i._value=e,i}function pa(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&ha(t,o)),n}return i._value=e,i}function da(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Oe(t);return this.tween(n,(r.local?ga:pa)(r,e))}function ya(t,e){return function(){vn(this,t).delay=+e.apply(this,arguments)}}function _a(t,e){return e=+e,function(){vn(this,t).delay=e}}function va(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?ya:_a)(e,t)):pt(this.node(),e).delay}function wa(t,e){return function(){wt(this,t).duration=+e.apply(this,arguments)}}function xa(t,e){return e=+e,function(){wt(this,t).duration=e}}function Ma(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?wa:xa)(e,t)):pt(this.node(),e).duration}function Ta(t,e){if(typeof e!="function")throw new Error;return function(){wt(this,t).ease=e}}function ba(t){var e=this._id;return arguments.length?this.each(Ta(e,t)):pt(this.node(),e).ease}function Ca(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;wt(this,t).ease=n}}function ka(t){if(typeof t!="function")throw new Error;return this.each(Ca(this._id,t))}function Sa(t){typeof t!="function"&&(t=Mr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],u=o.length,a=r[i]=[],s,l=0;l<u;++l)(s=o[l])&&t.call(s,s.__data__,l,o)&&a.push(s);return new Ct(r,this._parents,this._name,this._id)}function Da(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var s=e[a],l=n[a],c=s.length,h=u[a]=new Array(c),f,g=0;g<c;++g)(f=s[g]||l[g])&&(h[g]=f);for(;a<r;++a)u[a]=e[a];return new Ct(u,this._parents,this._name,this._id)}function Aa(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Na(t,e,n){var r,i,o=Aa(e)?vn:wt;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(e,n),u.on=i}}function Ua(t,e){var n=this._id;return arguments.length<2?pt(this.node(),n).on.on(t):this.each(Na(n,t,e))}function Ea(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Fa(){return this.on("end.remove",Ea(this._id))}function $a(t){var e=this._name,n=this._id;typeof t!="function"&&(t=mn(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a=r[u],s=a.length,l=o[u]=new Array(s),c,h,f=0;f<s;++f)(c=a[f])&&(h=t.call(c,c.__data__,f,a))&&("__data__"in c&&(h.__data__=c.__data__),l[f]=h,Pe(l[f],e,n,f,l,pt(c,n)));return new Ct(o,this._parents,e,n)}function za(t){var e=this._name,n=this._id;typeof t!="function"&&(t=xr(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var s=r[a],l=s.length,c,h=0;h<l;++h)if(c=s[h]){for(var f=t.call(c,c.__data__,h,s),g,p=pt(c,n),w=0,U=f.length;w<U;++w)(g=f[w])&&Pe(g,e,n,w,f,p);o.push(f),u.push(c)}return new Ct(o,u,e,n)}var Ya=ie.prototype.constructor;function Ia(){return new Ya(this._groups,this._parents)}function Ha(t,e){var n,r,i;return function(){var o=Vt(this,t),u=(this.style.removeProperty(t),Vt(this,t));return o===u?null:o===n&&u===r?i:i=e(n=o,r=u)}}function qr(t){return function(){this.style.removeProperty(t)}}function Ra(t,e,n){var r,i=n+"",o;return function(){var u=Vt(this,t);return u===i?null:u===r?o:o=e(r=u,n)}}function Oa(t,e,n){var r,i,o;return function(){var u=Vt(this,t),a=n(this),s=a+"";return a==null&&(s=a=(this.style.removeProperty(t),Vt(this,t))),u===s?null:u===r&&s===i?o:(i=s,o=e(r=u,a))}}function La(t,e){var n,r,i,o="style."+e,u="end."+o,a;return function(){var s=wt(this,t),l=s.on,c=s.value[o]==null?a||(a=qr(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(u,i=c),s.on=r}}function Pa(t,e,n){var r=(t+="")=="transform"?Pu:Vr;return e==null?this.styleTween(t,Ha(t,r)).on("end.style."+t,qr(t)):typeof e=="function"?this.styleTween(t,Oa(t,r,wn(this,"style."+t,e))).each(La(this._id,t)):this.styleTween(t,Ra(t,r,e),n).on("end.style."+t,null)}function Va(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function qa(t,e,n){var r,i;function o(){var u=e.apply(this,arguments);return u!==i&&(r=(i=u)&&Va(t,u,n)),r}return o._value=e,o}function Wa(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,qa(t,e,n??""))}function Xa(t){return function(){this.textContent=t}}function Ba(t){return function(){var e=t(this);this.textContent=e??""}}function Za(t){return this.tween("text",typeof t=="function"?Ba(wn(this,"text",t)):Xa(t==null?"":t+""))}function Ga(t){return function(e){this.textContent=t.call(this,e)}}function Ka(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Ga(i)),e}return r._value=t,r}function Qa(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ka(t))}function Ja(){for(var t=this._name,e=this._id,n=Wr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],a=u.length,s,l=0;l<a;++l)if(s=u[l]){var c=pt(s,e);Pe(s,t,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ct(r,this._parents,t,n)}function ja(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,u){var a={value:u},s={value:function(){--i===0&&o()}};n.each(function(){var l=wt(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(s)),l.on=e}),i===0&&o()})}var ts=0;function Ct(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Wr(){return++ts}var xt=ie.prototype;Ct.prototype={constructor:Ct,select:$a,selectAll:za,selectChild:xt.selectChild,selectChildren:xt.selectChildren,filter:Sa,merge:Da,selection:Ia,transition:Ja,call:xt.call,nodes:xt.nodes,node:xt.node,size:xt.size,empty:xt.empty,each:xt.each,on:Ua,attr:fa,attrTween:da,style:Pa,styleTween:Wa,text:Za,textTween:Qa,remove:Fa,tween:ia,delay:va,duration:Ma,ease:ba,easeVarying:ka,end:ja,[Symbol.iterator]:xt[Symbol.iterator]};function es(t){return t*(2-t)}function ns(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var rs={time:null,delay:0,duration:250,ease:ns};function is(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function os(t){var e,n;t instanceof Ct?(e=t._id,t=t._name):(e=Wr(),(n=rs).time=_n(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u=r[o],a=u.length,s,l=0;l<a;++l)(s=u[l])&&Pe(s,t,e,l,u,n||is(s,e));return new Ct(r,this._parents,t,e)}ie.prototype.interrupt=ea;ie.prototype.transition=os;function us(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function as(t){return function(){return t}}function ss(t){return+t}var Jn=[0,1];function Rt(t){return t}function cn(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:as(isNaN(e)?NaN:.5)}function ls(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function cs(t,e,n){var r=t[0],i=t[1],o=e[0],u=e[1];return i<r?(r=cn(i,r),o=n(u,o)):(r=cn(r,i),o=n(o,u)),function(a){return o(r(a))}}function fs(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++u<r;)i[u]=cn(t[u],t[u+1]),o[u]=n(e[u],e[u+1]);return function(a){var s=wi(t,a,1,r)-1;return o[s](i[s](a))}}function hs(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ms(){var t=Jn,e=Jn,n=yn,r,i,o,u=Rt,a,s,l;function c(){var f=Math.min(t.length,e.length);return u!==Rt&&(u=ls(t[0],t[f-1])),a=f>2?fs:cs,s=l=null,h}function h(f){return f==null||isNaN(f=+f)?o:(s||(s=a(t.map(r),e,n)))(r(u(f)))}return h.invert=function(f){return u(i((l||(l=a(e,t.map(r),mt)))(f)))},h.domain=function(f){return arguments.length?(t=Array.from(f,ss),c()):t.slice()},h.range=function(f){return arguments.length?(e=Array.from(f),c()):e.slice()},h.rangeRound=function(f){return e=Array.from(f),n=Yr,c()},h.clamp=function(f){return arguments.length?(u=f?!0:Rt,c()):u!==Rt},h.interpolate=function(f){return arguments.length?(n=f,c()):n},h.unknown=function(f){return arguments.length?(o=f,h):o},function(f,g){return r=f,i=g,c()}}function gs(){return ms()(Rt,Rt)}function ps(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],u;return o<i&&(u=n,n=r,r=u,u=i,i=o,o=u),t[n]=e.floor(i),t[r]=e.ceil(o),t}const Xe=new Date,Be=new Date;function q(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const u=i(o),a=i.ceil(o);return o-u<a-o?u:a},i.offset=(o,u)=>(e(o=new Date(+o),u==null?1:Math.floor(u)),o),i.range=(o,u,a)=>{const s=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<u)||!(a>0))return s;let l;do s.push(l=new Date(+o)),e(o,a),t(o);while(l<o&&o<u);return s},i.filter=o=>q(u=>{if(u>=u)for(;t(u),!o(u);)u.setTime(u-1)},(u,a)=>{if(u>=u)if(a<0)for(;++a<=0;)for(;e(u,-1),!o(u););else for(;--a>=0;)for(;e(u,1),!o(u););}),n&&(i.count=(o,u)=>(Xe.setTime(+o),Be.setTime(+u),t(Xe),t(Be),Math.floor(n(Xe,Be))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?u=>r(u)%o===0:u=>i.count(0,u)%o===0):i)),i}const Ue=q(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ue.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?q(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Ue);Ue.range;const Mt=1e3,ct=Mt*60,Tt=ct*60,kt=Tt*24,xn=kt*7,jn=kt*30,Ze=kt*365,Ot=q(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Mt)},(t,e)=>(e-t)/Mt,t=>t.getUTCSeconds());Ot.range;const Mn=q(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mt)},(t,e)=>{t.setTime(+t+e*ct)},(t,e)=>(e-t)/ct,t=>t.getMinutes());Mn.range;const ds=q(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ct)},(t,e)=>(e-t)/ct,t=>t.getUTCMinutes());ds.range;const Tn=q(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mt-t.getMinutes()*ct)},(t,e)=>{t.setTime(+t+e*Tt)},(t,e)=>(e-t)/Tt,t=>t.getHours());Tn.range;const ys=q(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Tt)},(t,e)=>(e-t)/Tt,t=>t.getUTCHours());ys.range;const ue=q(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ct)/kt,t=>t.getDate()-1);ue.range;const bn=q(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kt,t=>t.getUTCDate()-1);bn.range;const _s=q(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kt,t=>Math.floor(t/kt));_s.range;function Yt(t){return q(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ct)/xn)}const Ve=Yt(0),Ee=Yt(1),vs=Yt(2),ws=Yt(3),Wt=Yt(4),xs=Yt(5),Ms=Yt(6);Ve.range;Ee.range;vs.range;ws.range;Wt.range;xs.range;Ms.range;function It(t){return q(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/xn)}const Xr=It(0),Fe=It(1),Ts=It(2),bs=It(3),Xt=It(4),Cs=It(5),ks=It(6);Xr.range;Fe.range;Ts.range;bs.range;Xt.range;Cs.range;ks.range;const Cn=q(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Cn.range;const Ss=q(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Ss.range;const St=q(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());St.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:q(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});St.range;const zt=q(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:q(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});zt.range;function Ds(t,e,n,r,i,o){const u=[[Ot,1,Mt],[Ot,5,5*Mt],[Ot,15,15*Mt],[Ot,30,30*Mt],[o,1,ct],[o,5,5*ct],[o,15,15*ct],[o,30,30*ct],[i,1,Tt],[i,3,3*Tt],[i,6,6*Tt],[i,12,12*Tt],[r,1,kt],[r,2,2*kt],[n,1,xn],[e,1,jn],[e,3,3*jn],[t,1,Ze]];function a(l,c,h){const f=c<l;f&&([l,c]=[c,l]);const g=h&&typeof h.range=="function"?h:s(l,c,h),p=g?g.range(l,+c+1):[];return f?p.reverse():p}function s(l,c,h){const f=Math.abs(c-l)/h,g=fn(([,,U])=>U).right(u,f);if(g===u.length)return t.every($n(l/Ze,c/Ze,h));if(g===0)return Ue.every(Math.max($n(l,c,h),1));const[p,w]=u[f/u[g-1][2]<u[g][2]/f?g-1:g];return p.every(w)}return[a,s]}const[As,Ns]=Ds(St,Cn,Ve,ue,Tn,Mn);function Ge(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ke(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Us(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,s=t.shortMonths,l=Gt(i),c=Kt(i),h=Gt(o),f=Kt(o),g=Gt(u),p=Kt(u),w=Gt(a),U=Kt(a),M=Gt(s),Y=Kt(s),E={a:T,A:b,b:C,B:k,c:null,d:or,e:or,f:tl,g:cl,G:hl,H:Qs,I:Js,j:js,L:Br,m:el,M:nl,p:z,q:O,Q:sr,s:lr,S:rl,u:il,U:ol,V:ul,w:al,W:sl,x:null,X:null,y:ll,Y:fl,Z:ml,"%":ar},I={a:st,A:V,b:nt,B:ft,c:null,d:ur,e:ur,f:yl,g:Sl,G:Al,H:gl,I:pl,j:dl,L:Gr,m:_l,M:vl,p:rt,q:ht,Q:sr,s:lr,S:wl,u:xl,U:Ml,V:Tl,w:bl,W:Cl,x:null,X:null,y:kl,Y:Dl,Z:Nl,"%":ar},R={a:J,A:P,b:L,B:G,c:m,d:rr,e:rr,f:Bs,g:nr,G:er,H:ir,I:ir,j:Vs,L:Xs,m:Ps,M:qs,p:et,q:Ls,Q:Gs,s:Ks,S:Ws,u:Ys,U:Is,V:Hs,w:zs,W:Rs,x:v,X:d,y:nr,Y:er,Z:Os,"%":Zs};E.x=x(n,E),E.X=x(r,E),E.c=x(e,E),I.x=x(n,I),I.X=x(r,I),I.c=x(e,I);function x(_,D){return function(A){var y=[],j=-1,H=0,it=_.length,ot,Dt,kn;for(A instanceof Date||(A=new Date(+A));++j<it;)_.charCodeAt(j)===37&&(y.push(_.slice(H,j)),(Dt=tr[ot=_.charAt(++j)])!=null?ot=_.charAt(++j):Dt=ot==="e"?" ":"0",(kn=D[ot])&&(ot=kn(A,Dt)),y.push(ot),H=j+1);return y.push(_.slice(H,j)),y.join("")}}function S(_,D){return function(A){var y=Zt(1900,void 0,1),j=Q(y,_,A+="",0),H,it;if(j!=A.length)return null;if("Q"in y)return new Date(y.Q);if("s"in y)return new Date(y.s*1e3+("L"in y?y.L:0));if(D&&!("Z"in y)&&(y.Z=0),"p"in y&&(y.H=y.H%12+y.p*12),y.m===void 0&&(y.m="q"in y?y.q:0),"V"in y){if(y.V<1||y.V>53)return null;"w"in y||(y.w=1),"Z"in y?(H=Ke(Zt(y.y,0,1)),it=H.getUTCDay(),H=it>4||it===0?Fe.ceil(H):Fe(H),H=bn.offset(H,(y.V-1)*7),y.y=H.getUTCFullYear(),y.m=H.getUTCMonth(),y.d=H.getUTCDate()+(y.w+6)%7):(H=Ge(Zt(y.y,0,1)),it=H.getDay(),H=it>4||it===0?Ee.ceil(H):Ee(H),H=ue.offset(H,(y.V-1)*7),y.y=H.getFullYear(),y.m=H.getMonth(),y.d=H.getDate()+(y.w+6)%7)}else("W"in y||"U"in y)&&("w"in y||(y.w="u"in y?y.u%7:"W"in y?1:0),it="Z"in y?Ke(Zt(y.y,0,1)).getUTCDay():Ge(Zt(y.y,0,1)).getDay(),y.m=0,y.d="W"in y?(y.w+6)%7+y.W*7-(it+5)%7:y.w+y.U*7-(it+6)%7);return"Z"in y?(y.H+=y.Z/100|0,y.M+=y.Z%100,Ke(y)):Ge(y)}}function Q(_,D,A,y){for(var j=0,H=D.length,it=A.length,ot,Dt;j<H;){if(y>=it)return-1;if(ot=D.charCodeAt(j++),ot===37){if(ot=D.charAt(j++),Dt=R[ot in tr?D.charAt(j++):ot],!Dt||(y=Dt(_,A,y))<0)return-1}else if(ot!=A.charCodeAt(y++))return-1}return y}function et(_,D,A){var y=l.exec(D.slice(A));return y?(_.p=c.get(y[0].toLowerCase()),A+y[0].length):-1}function J(_,D,A){var y=g.exec(D.slice(A));return y?(_.w=p.get(y[0].toLowerCase()),A+y[0].length):-1}function P(_,D,A){var y=h.exec(D.slice(A));return y?(_.w=f.get(y[0].toLowerCase()),A+y[0].length):-1}function L(_,D,A){var y=M.exec(D.slice(A));return y?(_.m=Y.get(y[0].toLowerCase()),A+y[0].length):-1}function G(_,D,A){var y=w.exec(D.slice(A));return y?(_.m=U.get(y[0].toLowerCase()),A+y[0].length):-1}function m(_,D,A){return Q(_,e,D,A)}function v(_,D,A){return Q(_,n,D,A)}function d(_,D,A){return Q(_,r,D,A)}function T(_){return u[_.getDay()]}function b(_){return o[_.getDay()]}function C(_){return s[_.getMonth()]}function k(_){return a[_.getMonth()]}function z(_){return i[+(_.getHours()>=12)]}function O(_){return 1+~~(_.getMonth()/3)}function st(_){return u[_.getUTCDay()]}function V(_){return o[_.getUTCDay()]}function nt(_){return s[_.getUTCMonth()]}function ft(_){return a[_.getUTCMonth()]}function rt(_){return i[+(_.getUTCHours()>=12)]}function ht(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var D=x(_+="",E);return D.toString=function(){return _},D},parse:function(_){var D=S(_+="",!1);return D.toString=function(){return _},D},utcFormat:function(_){var D=x(_+="",I);return D.toString=function(){return _},D},utcParse:function(_){var D=S(_+="",!0);return D.toString=function(){return _},D}}}var tr={"-":"",_:" ",0:"0"},Z=/^\s*\d+/,Es=/^%/,Fs=/[\\^$*+?|[\]().{}]/g;function N(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function $s(t){return t.replace(Fs,"\\$&")}function Gt(t){return new RegExp("^(?:"+t.map($s).join("|")+")","i")}function Kt(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function zs(t,e,n){var r=Z.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ys(t,e,n){var r=Z.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Is(t,e,n){var r=Z.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hs(t,e,n){var r=Z.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Rs(t,e,n){var r=Z.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function er(t,e,n){var r=Z.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function nr(t,e,n){var r=Z.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Os(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ls(t,e,n){var r=Z.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ps(t,e,n){var r=Z.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rr(t,e,n){var r=Z.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Vs(t,e,n){var r=Z.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ir(t,e,n){var r=Z.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qs(t,e,n){var r=Z.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ws(t,e,n){var r=Z.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Xs(t,e,n){var r=Z.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Bs(t,e,n){var r=Z.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Zs(t,e,n){var r=Es.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Gs(t,e,n){var r=Z.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ks(t,e,n){var r=Z.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function or(t,e){return N(t.getDate(),e,2)}function Qs(t,e){return N(t.getHours(),e,2)}function Js(t,e){return N(t.getHours()%12||12,e,2)}function js(t,e){return N(1+ue.count(St(t),t),e,3)}function Br(t,e){return N(t.getMilliseconds(),e,3)}function tl(t,e){return Br(t,e)+"000"}function el(t,e){return N(t.getMonth()+1,e,2)}function nl(t,e){return N(t.getMinutes(),e,2)}function rl(t,e){return N(t.getSeconds(),e,2)}function il(t){var e=t.getDay();return e===0?7:e}function ol(t,e){return N(Ve.count(St(t)-1,t),e,2)}function Zr(t){var e=t.getDay();return e>=4||e===0?Wt(t):Wt.ceil(t)}function ul(t,e){return t=Zr(t),N(Wt.count(St(t),t)+(St(t).getDay()===4),e,2)}function al(t){return t.getDay()}function sl(t,e){return N(Ee.count(St(t)-1,t),e,2)}function ll(t,e){return N(t.getFullYear()%100,e,2)}function cl(t,e){return t=Zr(t),N(t.getFullYear()%100,e,2)}function fl(t,e){return N(t.getFullYear()%1e4,e,4)}function hl(t,e){var n=t.getDay();return t=n>=4||n===0?Wt(t):Wt.ceil(t),N(t.getFullYear()%1e4,e,4)}function ml(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+N(e/60|0,"0",2)+N(e%60,"0",2)}function ur(t,e){return N(t.getUTCDate(),e,2)}function gl(t,e){return N(t.getUTCHours(),e,2)}function pl(t,e){return N(t.getUTCHours()%12||12,e,2)}function dl(t,e){return N(1+bn.count(zt(t),t),e,3)}function Gr(t,e){return N(t.getUTCMilliseconds(),e,3)}function yl(t,e){return Gr(t,e)+"000"}function _l(t,e){return N(t.getUTCMonth()+1,e,2)}function vl(t,e){return N(t.getUTCMinutes(),e,2)}function wl(t,e){return N(t.getUTCSeconds(),e,2)}function xl(t){var e=t.getUTCDay();return e===0?7:e}function Ml(t,e){return N(Xr.count(zt(t)-1,t),e,2)}function Kr(t){var e=t.getUTCDay();return e>=4||e===0?Xt(t):Xt.ceil(t)}function Tl(t,e){return t=Kr(t),N(Xt.count(zt(t),t)+(zt(t).getUTCDay()===4),e,2)}function bl(t){return t.getUTCDay()}function Cl(t,e){return N(Fe.count(zt(t)-1,t),e,2)}function kl(t,e){return N(t.getUTCFullYear()%100,e,2)}function Sl(t,e){return t=Kr(t),N(t.getUTCFullYear()%100,e,2)}function Dl(t,e){return N(t.getUTCFullYear()%1e4,e,4)}function Al(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Xt(t):Xt.ceil(t),N(t.getUTCFullYear()%1e4,e,4)}function Nl(){return"+0000"}function ar(){return"%"}function sr(t){return+t}function lr(t){return Math.floor(+t/1e3)}var Ht,$e;Ul({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ul(t){return Ht=Us(t),$e=Ht.format,Ht.parse,Ht.utcFormat,Ht.utcParse,Ht}function El(t){return new Date(t)}function Fl(t){return t instanceof Date?+t:+new Date(+t)}function Qr(t,e,n,r,i,o,u,a,s,l){var c=gs(),h=c.invert,f=c.domain,g=l(".%L"),p=l(":%S"),w=l("%I:%M"),U=l("%I %p"),M=l("%a %d"),Y=l("%b %d"),E=l("%B"),I=l("%Y");function R(x){return(s(x)<x?g:a(x)<x?p:u(x)<x?w:o(x)<x?U:r(x)<x?i(x)<x?M:Y:n(x)<x?E:I)(x)}return c.invert=function(x){return new Date(h(x))},c.domain=function(x){return arguments.length?f(Array.from(x,Fl)):f().map(El)},c.ticks=function(x){var S=f();return t(S[0],S[S.length-1],x??10)},c.tickFormat=function(x,S){return S==null?R:l(S)},c.nice=function(x){var S=f();return(!x||typeof x.range!="function")&&(x=e(S[0],S[S.length-1],x??10)),x?f(ps(S,x)):c},c.copy=function(){return hs(c,Qr(t,e,n,r,i,o,u,a,s,l))},c}function $l(){return us.apply(Qr(As,Ns,St,Cn,Ve,ue,Tn,Mn,Ot,$e).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const ce=t=>()=>t;function zl(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function bt(t,e,n){this.k=t,this.x=e,this.y=n}bt.prototype={constructor:bt,scale:function(t){return t===1?this:new bt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new bt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var re=new bt(1,0,0);Jr.prototype=bt.prototype;function Jr(t){for(;!t.__zoom;)if(!(t=t.parentNode))return re;return t.__zoom}function Qe(t){t.stopImmediatePropagation()}function Qt(t){t.preventDefault(),t.stopImmediatePropagation()}function Yl(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Il(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function cr(){return this.__zoom||re}function Hl(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Rl(){return navigator.maxTouchPoints||"ontouchstart"in this}function Ol(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],u=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function Ll(){var t=Yl,e=Il,n=Ol,r=Hl,i=Rl,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],a=250,s=Bu,l=hn("start","zoom","end"),c,h,f,g=500,p=150,w=0,U=10;function M(m){m.property("__zoom",cr).on("wheel.zoom",Q,{passive:!1}).on("mousedown.zoom",et).on("dblclick.zoom",J).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",G).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}M.transform=function(m,v,d,T){var b=m.selection?m.selection():m;b.property("__zoom",cr),m!==b?R(m,v,d,T):b.interrupt().each(function(){x(this,arguments).event(T).start().zoom(null,typeof v=="function"?v.apply(this,arguments):v).end()})},M.scaleBy=function(m,v,d,T){M.scaleTo(m,function(){var b=this.__zoom.k,C=typeof v=="function"?v.apply(this,arguments):v;return b*C},d,T)},M.scaleTo=function(m,v,d,T){M.transform(m,function(){var b=e.apply(this,arguments),C=this.__zoom,k=d==null?I(b):typeof d=="function"?d.apply(this,arguments):d,z=C.invert(k),O=typeof v=="function"?v.apply(this,arguments):v;return n(E(Y(C,O),k,z),b,u)},d,T)},M.translateBy=function(m,v,d,T){M.transform(m,function(){return n(this.__zoom.translate(typeof v=="function"?v.apply(this,arguments):v,typeof d=="function"?d.apply(this,arguments):d),e.apply(this,arguments),u)},null,T)},M.translateTo=function(m,v,d,T,b){M.transform(m,function(){var C=e.apply(this,arguments),k=this.__zoom,z=T==null?I(C):typeof T=="function"?T.apply(this,arguments):T;return n(re.translate(z[0],z[1]).scale(k.k).translate(typeof v=="function"?-v.apply(this,arguments):-v,typeof d=="function"?-d.apply(this,arguments):-d),C,u)},T,b)};function Y(m,v){return v=Math.max(o[0],Math.min(o[1],v)),v===m.k?m:new bt(v,m.x,m.y)}function E(m,v,d){var T=v[0]-d[0]*m.k,b=v[1]-d[1]*m.k;return T===m.x&&b===m.y?m:new bt(m.k,T,b)}function I(m){return[(+m[0][0]+ +m[1][0])/2,(+m[0][1]+ +m[1][1])/2]}function R(m,v,d,T){m.on("start.zoom",function(){x(this,arguments).event(T).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).event(T).end()}).tween("zoom",function(){var b=this,C=arguments,k=x(b,C).event(T),z=e.apply(b,C),O=d==null?I(z):typeof d=="function"?d.apply(b,C):d,st=Math.max(z[1][0]-z[0][0],z[1][1]-z[0][1]),V=b.__zoom,nt=typeof v=="function"?v.apply(b,C):v,ft=s(V.invert(O).concat(st/V.k),nt.invert(O).concat(st/nt.k));return function(rt){if(rt===1)rt=nt;else{var ht=ft(rt),_=st/ht[2];rt=new bt(_,O[0]-ht[0]*_,O[1]-ht[1]*_)}k.zoom(null,rt)}})}function x(m,v,d){return!d&&m.__zooming||new S(m,v)}function S(m,v){this.that=m,this.args=v,this.active=0,this.sourceEvent=null,this.extent=e.apply(m,v),this.taps=0}S.prototype={event:function(m){return m&&(this.sourceEvent=m),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(m,v){return this.mouse&&m!=="mouse"&&(this.mouse[1]=v.invert(this.mouse[0])),this.touch0&&m!=="touch"&&(this.touch0[1]=v.invert(this.touch0[0])),this.touch1&&m!=="touch"&&(this.touch1[1]=v.invert(this.touch1[0])),this.that.__zoom=v,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(m){var v=dt(this.that).datum();l.call(m,this.that,new zl(m,{sourceEvent:this.sourceEvent,target:M,type:m,transform:this.that.__zoom,dispatch:l}),v)}};function Q(m,...v){if(!t.apply(this,arguments))return;var d=x(this,v).event(m),T=this.__zoom,b=Math.max(o[0],Math.min(o[1],T.k*Math.pow(2,r.apply(this,arguments)))),C=At(m);if(d.wheel)(d.mouse[0][0]!==C[0]||d.mouse[0][1]!==C[1])&&(d.mouse[1]=T.invert(d.mouse[0]=C)),clearTimeout(d.wheel);else{if(T.k===b)return;d.mouse=[C,T.invert(C)],de(this),d.start()}Qt(m),d.wheel=setTimeout(k,p),d.zoom("mouse",n(E(Y(T,b),d.mouse[0],d.mouse[1]),d.extent,u));function k(){d.wheel=null,d.end()}}function et(m,...v){if(f||!t.apply(this,arguments))return;var d=m.currentTarget,T=x(this,v,!0).event(m),b=dt(m.view).on("mousemove.zoom",O,!0).on("mouseup.zoom",st,!0),C=At(m,d),k=m.clientX,z=m.clientY;du(m.view),Qe(m),T.mouse=[C,this.__zoom.invert(C)],de(this),T.start();function O(V){if(Qt(V),!T.moved){var nt=V.clientX-k,ft=V.clientY-z;T.moved=nt*nt+ft*ft>w}T.event(V).zoom("mouse",n(E(T.that.__zoom,T.mouse[0]=At(V,d),T.mouse[1]),T.extent,u))}function st(V){b.on("mousemove.zoom mouseup.zoom",null),yu(V.view,T.moved),Qt(V),T.event(V).end()}}function J(m,...v){if(t.apply(this,arguments)){var d=this.__zoom,T=At(m.changedTouches?m.changedTouches[0]:m,this),b=d.invert(T),C=d.k*(m.shiftKey?.5:2),k=n(E(Y(d,C),T,b),e.apply(this,v),u);Qt(m),a>0?dt(this).transition().duration(a).call(R,k,T,m):dt(this).call(M.transform,k,T,m)}}function P(m,...v){if(t.apply(this,arguments)){var d=m.touches,T=d.length,b=x(this,v,m.changedTouches.length===T).event(m),C,k,z,O;for(Qe(m),k=0;k<T;++k)z=d[k],O=At(z,this),O=[O,this.__zoom.invert(O),z.identifier],b.touch0?!b.touch1&&b.touch0[2]!==O[2]&&(b.touch1=O,b.taps=0):(b.touch0=O,C=!0,b.taps=1+!!c);c&&(c=clearTimeout(c)),C&&(b.taps<2&&(h=O[0],c=setTimeout(function(){c=null},g)),de(this),b.start())}}function L(m,...v){if(this.__zooming){var d=x(this,v).event(m),T=m.changedTouches,b=T.length,C,k,z,O;for(Qt(m),C=0;C<b;++C)k=T[C],z=At(k,this),d.touch0&&d.touch0[2]===k.identifier?d.touch0[0]=z:d.touch1&&d.touch1[2]===k.identifier&&(d.touch1[0]=z);if(k=d.that.__zoom,d.touch1){var st=d.touch0[0],V=d.touch0[1],nt=d.touch1[0],ft=d.touch1[1],rt=(rt=nt[0]-st[0])*rt+(rt=nt[1]-st[1])*rt,ht=(ht=ft[0]-V[0])*ht+(ht=ft[1]-V[1])*ht;k=Y(k,Math.sqrt(rt/ht)),z=[(st[0]+nt[0])/2,(st[1]+nt[1])/2],O=[(V[0]+ft[0])/2,(V[1]+ft[1])/2]}else if(d.touch0)z=d.touch0[0],O=d.touch0[1];else return;d.zoom("touch",n(E(k,z,O),d.extent,u))}}function G(m,...v){if(this.__zooming){var d=x(this,v).event(m),T=m.changedTouches,b=T.length,C,k;for(Qe(m),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),C=0;C<b;++C)k=T[C],d.touch0&&d.touch0[2]===k.identifier?delete d.touch0:d.touch1&&d.touch1[2]===k.identifier&&delete d.touch1;if(d.touch1&&!d.touch0&&(d.touch0=d.touch1,delete d.touch1),d.touch0)d.touch0[1]=this.__zoom.invert(d.touch0[0]);else if(d.end(),d.taps===2&&(k=At(k,this),Math.hypot(h[0]-k[0],h[1]-k[1])<U)){var z=dt(this).on("dblclick.zoom");z&&z.apply(this,arguments)}}}return M.wheelDelta=function(m){return arguments.length?(r=typeof m=="function"?m:ce(+m),M):r},M.filter=function(m){return arguments.length?(t=typeof m=="function"?m:ce(!!m),M):t},M.touchable=function(m){return arguments.length?(i=typeof m=="function"?m:ce(!!m),M):i},M.extent=function(m){return arguments.length?(e=typeof m=="function"?m:ce([[+m[0][0],+m[0][1]],[+m[1][0],+m[1][1]]]),M):e},M.scaleExtent=function(m){return arguments.length?(o[0]=+m[0],o[1]=+m[1],M):[o[0],o[1]]},M.translateExtent=function(m){return arguments.length?(u[0][0]=+m[0][0],u[1][0]=+m[1][0],u[0][1]=+m[0][1],u[1][1]=+m[1][1],M):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},M.constrain=function(m){return arguments.length?(n=m,M):n},M.duration=function(m){return arguments.length?(a=+m,M):a},M.interpolate=function(m){return arguments.length?(s=m,M):s},M.on=function(){var m=l.on.apply(l,arguments);return m===l?M:m},M.clickDistance=function(m){return arguments.length?(w=(m=+m)*m,M):Math.sqrt(w)},M.tapDistance=function(m){return arguments.length?(U=+m,M):U},M}function fr(t,e,n){const r=t.slice();return r[1]=e[n],r}function hr(t){let e,n=[],r=new Map,i,o,u=Nn(t[0]);const a=s=>s[1].pid;for(let s=0;s<u.length;s+=1){let l=fr(t,u,s),c=a(l);r.set(c,n[s]=mr(c,l))}return{c(){e=X("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=B(s,"DIV",{class:!0});var l=ut(e);for(let c=0;c<n.length;c+=1)n[c].l(l);l.forEach($),this.h()},h(){F(e,"class","items-bar svelte-22wd18")},m(s,l){K(s,e,l);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);o=!0},p(s,l){l&1&&(u=Nn(s[0]),n=li(n,l,a,1,s,u,r,e,ci,mr,null,fr))},i(s){o||(s&&jr(()=>{o&&(i||(i=Dn(e,Un,{duration:200},!0)),i.run(1))}),o=!0)},o(s){s&&(i||(i=Dn(e,Un,{duration:200},!1)),i.run(0)),o=!1},d(s){s&&$(e);for(let l=0;l<n.length;l+=1)n[l].d();s&&i&&i.end()}}}function Pl(t){let e,n,r,i,o;return{c(){e=X("a"),n=X("img"),this.h()},l(u){e=B(u,"A",{class:!0,href:!0});var a=ut(e);n=B(a,"IMG",{class:!0,src:!0,alt:!0}),a.forEach($),this.h()},h(){F(n,"class","noevents svelte-22wd18"),_e(n.src,r=lt+"/iiif/"+t[1].pid+"/0/full/256,/0/default.jpg")||F(n,"src",r),F(n,"alt",i=t[1].label),F(e,"class","thumb svelte-22wd18"),F(e,"href",o=lt+"/pages/"+t[1].pid)},m(u,a){K(u,e,a),W(e,n)},p(u,a){a&1&&!_e(n.src,r=lt+"/iiif/"+u[1].pid+"/0/full/256,/0/default.jpg")&&F(n,"src",r),a&1&&i!==(i=u[1].label)&&F(n,"alt",i),a&1&&o!==(o=lt+"/pages/"+u[1].pid)&&F(e,"href",o)},d(u){u&&$(e)}}}function mr(t,e){let n,r,i,o,u=e[1].label+"",a,s,l,c=je.pages.iiifViewer&&Pl(e);return{key:t,first:null,c(){n=X("div"),c&&c.c(),r=yt(),i=X("a"),o=X("span"),a=He(u),l=yt(),this.h()},l(h){n=B(h,"DIV",{class:!0});var f=ut(n);c&&c.l(f),r=_t(f),i=B(f,"A",{href:!0});var g=ut(i);o=B(g,"SPAN",{});var p=ut(o);a=Re(p,u),p.forEach($),g.forEach($),l=_t(f),f.forEach($),this.h()},h(){F(i,"href",s=lt+"/pages/"+e[1].pid),F(n,"class","work-preview no-select svelte-22wd18"),this.first=n},m(h,f){K(h,n,f),c&&c.m(n,null),W(n,r),W(n,i),W(i,o),W(o,a),W(n,l)},p(h,f){e=h,je.pages.iiifViewer&&c.p(e,f),f&1&&u!==(u=e[1].label+"")&&dr(a,u),f&1&&s!==(s=lt+"/pages/"+e[1].pid)&&F(i,"href",s)},d(h){h&&$(n),c&&c.d()}}}function Vl(t){let e,n=t[0].length>0&&hr(t);return{c(){n&&n.c(),e=ve()},l(r){n&&n.l(r),e=ve()},m(r,i){n&&n.m(r,i),K(r,e,i)},p(r,[i]){r[0].length>0?n?(n.p(r,i),i&1&&Ut(n,1)):(n=hr(r),n.c(),Ut(n,1),n.m(e.parentNode,e)):n&&(ri(),Pt(n,1,1,()=>{n=null}),ii())},i(r){Ut(n)},o(r){Pt(n)},d(r){r&&$(e),n&&n.d(r)}}}function ql(t,e,n){let{items:r=[]}=e;return t.$$set=i=>{"items"in i&&n(0,r=i.items)},[r]}class Wl extends Ye{constructor(e){super(),Ie(this,e,ql,Vl,ze,{items:0})}}function gr(t){let e,n,r='<img src="./icons/reset.png" alt="reset"/>',i,o;return{c(){e=X("div"),n=X("button"),n.innerHTML=r,this.h()},l(u){e=B(u,"DIV",{class:!0});var a=ut(e);n=B(a,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(n)!=="svelte-9rp6jw"&&(n.innerHTML=r),a.forEach($),this.h()},h(){F(n,"class","reset-button"),F(e,"class","network-container-overlay svelte-1rmrcxp")},m(u,a){K(u,e,a),W(e,n),i||(o=yr(n,"click",function(){ei(t[2])&&t[2].apply(this,arguments)}),i=!0)},p(u,a){t=u},d(u){u&&$(e),i=!1,o()}}}function Xl(t){let e,n,r,i,o,u,a,s,l=t[0].length>0&&gr(t);return o=new Wl({props:{items:t[0]}}),{c(){e=X("div"),n=oi("svg"),r=yt(),l&&l.c(),i=yt(),we(o.$$.fragment),this.h()},l(c){e=B(c,"DIV",{class:!0});var h=ut(e);n=ui(h,"svg",{width:!0,class:!0}),ut(n).forEach($),r=_t(h),l&&l.l(h),i=_t(h),xe(o.$$.fragment,h),h.forEach($),this.h()},h(){F(n,"width","100%"),F(n,"class","svelte-1rmrcxp"),F(e,"class","timeline-container svelte-1rmrcxp")},m(c,h){K(c,e,h),W(e,n),t[7](n),W(e,r),l&&l.m(e,null),W(e,i),Me(o,e,null),u=!0,a||(s=yr(window,"resize",t[6]),a=!0)},p(c,[h]){c[0].length>0?l?l.p(c,h):(l=gr(c),l.c(),l.m(e,i)):l&&(l.d(1),l=null);const f={};h&1&&(f.items=c[0]),o.$set(f)},i(c){u||(Ut(o.$$.fragment,c),u=!0)},o(c){Pt(o.$$.fragment,c),u=!1},d(c){c&&$(e),t[7](null),l&&l.d(),Te(o),a=!1,s()}}}function Bl(t,e,n){let{dateKey:r}=e,{metadata:i=_r}=e,o=[];const u={};for(let p of i)u[p[r]]===void 0&&(u[p[r]]={date:new Date(p[r]),data:[]}),u[p[r]].data.push({pid:p.pid,label:p.label});const a=Object.values(u);let s,l;ti(h);function c(){dt(s).selectAll("g").remove(),h()}function h(){const p=dt(s),w=getComputedStyle(s),U=+w.width.replace("px",""),M=+w.height.replace("px",""),Y={h:U*.05,v:M*.2},E=Ll().scaleExtent([1,32]).on("zoom",et),I=p.append("g").attr("transform",`translate(${Y.h}, ${Y.v})`),R=p.append("g"),x=(P,L)=>P.attr("transform",`translate(${Y.h},${M*.7})`).call(Ei(L).tickFormat((G,m,v)=>{const d=$e("%Y"),T=$e("%m"),b=v.map(C=>C.__data__);return m===0?"..."+d(G):b[m-1].getFullYear()===G.getFullYear()?T(G):d(G)})),S=I.append("g").attr("fill","none").attr("stroke-linecap","round").attr("stroke-width",1),Q=$l().domain(xi(a,P=>P.date)).range([0,U-Y.h*2]).nice();p.call(E).call(E.transform,re),J(Q);function et({transform:P}){const L=P.rescaleX(Q).interpolate(Yr);R.call(x,L),J(L)}n(2,l=()=>{const P=re.translate(0,0).scale(1);return S.selectAll("circle").attr("stroke-width",1),n(0,o=[]),p.transition().ease(es).duration(500).call(E.transform,P),Jr(p.node())});function J(P){const L=S.selectAll("circle").data(a).join("circle").attr("cx",G=>P(G.date)).attr("cy",Y.v).attr("r",10).attr("stroke","var(--accent2)").attr("fill","var(--accent1)").attr("cursor","pointer");L.on("click",function(G,m){n(0,o=m.data);const v=dt(G.target);L.attr("stroke-width",1),v.attr("stroke-width",4)})}}const f=()=>{c()};function g(p){ni[p?"unshift":"push"](()=>{s=p,n(1,s)})}return t.$$set=p=>{"dateKey"in p&&n(4,r=p.dateKey),"metadata"in p&&n(5,i=p.metadata)},[o,s,l,c,r,i,f,g]}class Zl extends Ye{constructor(e){super(),Ie(this,e,Bl,Xl,ze,{dateKey:4,metadata:5})}}function Gl(t){let e,n="Visita de la constelacin por la coleccin",r,i,o="Inicia con el Hangar de Barranquilla de la SCADTA instalado en 1920, luego de la fundacin de la compaa.",u,a,s,l,c="Ahora lnea de tiempo",h,f,g;return a=new pi({props:{pid:"conshsb02",title:"El hangar de SCADTA",alt:"Hangares de aviones fluviales sobre el ro Magdalena"}}),f=new Zl({props:{dateKey:"fecha"}}),{c(){e=X("h1"),e.textContent=n,r=yt(),i=X("p"),i.textContent=o,u=yt(),we(a.$$.fragment),s=yt(),l=X("p"),l.textContent=c,h=yt(),we(f.$$.fragment)},l(p){e=B(p,"H1",{"data-svelte-h":!0}),fe(e)!=="svelte-1ojnrrz"&&(e.textContent=n),r=_t(p),i=B(p,"P",{"data-svelte-h":!0}),fe(i)!=="svelte-153b8kc"&&(i.textContent=o),u=_t(p),xe(a.$$.fragment,p),s=_t(p),l=B(p,"P",{"data-svelte-h":!0}),fe(l)!=="svelte-18zkdll"&&(l.textContent=c),h=_t(p),xe(f.$$.fragment,p)},m(p,w){K(p,e,w),K(p,r,w),K(p,i,w),K(p,u,w),Me(a,p,w),K(p,s,w),K(p,l,w),K(p,h,w),Me(f,p,w),g=!0},p:ye,i(p){g||(Ut(a.$$.fragment,p),Ut(f.$$.fragment,p),g=!0)},o(p){Pt(a.$$.fragment,p),Pt(f.$$.fragment,p),g=!1},d(p){p&&($(e),$(r),$(i),$(u),$(s),$(l),$(h)),Te(a,p),Te(f,p)}}}function Kl(t){let e,n;const r=[t[0],pr];let i={$$slots:{default:[Gl]},$$scope:{ctx:t}};for(let o=0;o<r.length;o+=1)i=Je(i,r[o]);return e=new si({props:i}),{c(){we(e.$$.fragment)},l(o){xe(e.$$.fragment,o)},m(o,u){Me(e,o,u),n=!0},p(o,[u]){const a=u&1?ai(r,[u&1&&An(o[0]),u&0&&An(pr)]):{};u&2&&(a.$$scope={dirty:u,ctx:o}),e.$set(a)},i(o){n||(Ut(e.$$.fragment,o),n=!0)},o(o){Pt(e.$$.fragment,o),n=!1},d(o){Te(e,o)}}}const pr={name:"tour",layout:"page"};function Ql(t,e,n){return t.$$set=r=>{n(0,e=Je(Je({},e),Sn(r)))},e=Sn(e),[e]}class uc extends Ye{constructor(e){super(),Ie(this,e,Ql,Kl,ze,{})}}export{uc as component};
